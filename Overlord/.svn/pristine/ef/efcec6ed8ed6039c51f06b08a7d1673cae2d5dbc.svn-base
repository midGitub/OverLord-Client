using UnityEngine;
using System.Collections;

public class CameraController : MonoBehaviour {
    public Material lineMat;
    public Color color = Color.red;
    public Vector3 pos1;
    public Vector3 pos2;
    private bool isReady = false;

    //void Update()
    //{
    //    if (Input.GetMouseButtonDown(0))
    //    {
    //        pos1 = Input.mousePosition;
    //    }
    //    if (Input.GetMouseButtonUp(0))
    //    {
    //        pos2 = Input.mousePosition;
    //        isReady = true;
    //    }
    //}  

    //void OnPostRender()  
    //{
    //    GameObject redBtnPanel = GameObject.Find("/2DCanvas/redbtn");
    //    if (redBtnPanel)
    //    {
    //        foreach (Transform btntrans in redBtnPanel.transform)
    //        {
    //            pos1 = btntrans.position;
    //            if (btntrans.GetComponent<ClickBtn>().linkSoldier)
    //            {
    //                pos2 = GetComponent<Camera>().WorldToScreenPoint(btntrans.GetComponent<ClickBtn>().linkSoldier.transform.position);
    //                RenderLine();
    //            }
    //        }
    //    }


    //    GameObject blueBtnPanel = GameObject.Find("/2DCanvas/bluebtn");
    //    if (blueBtnPanel)
    //    {
    //        foreach (Transform btntrans in blueBtnPanel.transform)
    //        {
    //            pos1 = btntrans.position;
    //            if (btntrans.GetComponent<ClickBtn>().linkSoldier)
    //            {
    //                pos2 = GetComponent<Camera>().WorldToScreenPoint(btntrans.GetComponent<ClickBtn>().linkSoldier.transform.position);
    //                RenderLine();
    //            }
    //        }
    //    }

    //}

    //void RenderLine()
    //{
    //    GL.PushMatrix();
    //    lineMat.SetPass(0);
    //    GL.LoadOrtho();
    //    GL.Begin(GL.LINES);
    //    //GL.Color(color);
    //    GL.Vertex3(pos1.x / Screen.width, pos1.y / Screen.height, pos1.z);
    //    GL.Vertex3(pos2.x / Screen.width, pos2.y / Screen.height, 0);
    //    GL.End();
    //    GL.PopMatrix();
    //}
}
